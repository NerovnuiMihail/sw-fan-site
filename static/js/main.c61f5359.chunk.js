(this["webpackJsonpsw-fan-site"]=this["webpackJsonpsw-fan-site"]||[]).push([[0],[,,,,,,function(e,t,n){"use strict";n.d(t,"f",(function(){return a})),n.d(t,"e",(function(){return c})),n.d(t,"i",(function(){return r})),n.d(t,"h",(function(){return s})),n.d(t,"g",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return _})),n.d(t,"j",(function(){return j}));var a="https://",c="http://",r="swapi.dev/api/",s="people",i="/?page=",o=a+r+s+i,l=a+r+s,u=a+r+s+"/?search=",_=".jpg",j="https://starwars-visualguide.com/assets/img/characters"},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return l}));var a=n(8),c=n.n(a),r=n(15),s=n(6),i=function(e){return e?e.replace(s.e,s.f):e},o=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(t);case 3:if((n=e.sent).ok){e.next=7;break}return console.error("Could not fetch.",n.status),e.abrupt("return",!1);case 7:return e.next=9,n.json();case 9:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.t0=e.catch(0),console.error("Could not fetch.",e.t0.message),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map((function(e){return fetch(e).then((function(e){return e.json()}))})));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},function(e,t,n){e.exports={container:"ChooseSide_container__3IdlA",item:"ChooseSide_item__E8Tda",item__header:"ChooseSide_item__header__l-Pre",item__img:"ChooseSide_item__img__1VcrW",item__light:"ChooseSide_item__light__sdPJH",item__dark:"ChooseSide_item__dark__2rjfj",item__neitral:"ChooseSide_item__neitral__2QUms"}},,,function(e,t,n){e.exports={list__container:"SearchPageInfo_list__container__3S06F",list__item:"SearchPageInfo_list__item__IZK96",person__photo:"SearchPageInfo_person__photo__3A6DO",person__name:"SearchPageInfo_person__name__139H8",person__comment:"SearchPageInfo_person__comment__258DE"}},,function(e,t,n){e.exports={wrapper:"PersonInfo_wrapper__1ZR2N",list__container:"PersonInfo_list__container__2wnQ8",list__item:"PersonInfo_list__item__1I1lf",item__title:"PersonInfo_item__title__efSpI"}},function(e,t,n){e.exports={wrapper__input:"UiInput_wrapper__input__XYXng",input:"UiInput_input__265k0",clear:"UiInput_clear__12a8e",clear__disabled:"UiInput_clear__disabled__3QIJr"}},,,,,function(e,t,n){e.exports={list__container:"PeopleList_list__container__3NmHU",list__item:"PeopleList_list__item__1wRcY",person__photo:"PeopleList_person__photo__2FtlE"}},function(e,t,n){e.exports={container:"PeopleNavigation_container__1Z5E_",buttons:"PeopleNavigation_buttons__diPuk"}},function(e,t,n){e.exports={container:"PersonPhoto_container__2_Qd9",photo:"PersonPhoto_photo__3EMoM",favorite:"PersonPhoto_favorite__4d5MJ"}},function(e,t,n){e.exports={wrapper:"PersonPage_wrapper__xlY25",person__name:"PersonPage_person__name__1MtPm",container:"PersonPage_container__3NGJ4"}},function(e,t,n){e.exports={container:"Favorite_container__2DulC",icon:"Favorite_icon__1tmb1",counter:"Favorite_counter__1_Yc_"}},function(e,t,n){e.exports={container:"Header_container__9P4Mx",logo:"Header_logo__2bgCs",list__container:"Header_list__container__28s1x"}},,,function(e,t,n){},,function(e,t,n){e.exports={button:"UiButton_button__3A5uO",dark:"UiButton_dark__2puqU",light:"UiButton_light__2C5zQ"}},function(e,t,n){e.exports={text:"ErrorMessage_text__1xUq0",video:"ErrorMessage_video__1L3ff"}},function(e,t,n){e.exports={img:"NotFoundPage_img__4WnH3",text:"NotFoundPage_text__2UCfs"}},function(e,t,n){e.exports={link:"PersonLinkBack_link__1rHXX",link__img:"PersonLinkBack_link__img__2Ij2V"}},function(e,t,n){e.exports={loader:"UiLoading_loader__1jZ_B",shadow:"UiLoading_shadow__sjwpN"}},,,,,function(e,t,n){e.exports={video:"UiVideo_video__295lJ"}},function(e,t,n){e.exports={comment:"FavoritesPage_comment__B5fN1"}},function(e,t,n){e.exports={input__search:"SearchPage_input__search__1uqcM"}},function(e,t,n){e.exports={wrapper:"App_wrapper__1f0U8"}},,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),r=n(24),s=n.n(r),i=n(13),o=n(19),l=n(44),u=n(45),_=n(14),j=n(27),d="ADD_PERSON_TO_FAVORITE",p="REMOVE_PERSON_FROM_FAVORITE",b=function(e){var t=localStorage.getItem(e);return null!==t?JSON.parse(t):{}}("store"),f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case d:return Object(_.a)(Object(_.a)({},e),t.payload);case p:return Object(j.omit)(e,[t.payload]);default:return e}},m=Object(o.combineReducers)({favoriteReducer:f}),h=Object(o.createStore)(m,Object(l.composeWithDevTools)(Object(o.applyMiddleware)(u.a)));h.subscribe((function(){var e,t;e="store",t=h.getState().favoriteReducer,localStorage.setItem(e,JSON.stringify(t))}));var O=h,x=n(3),g=n(51),v=n(0),N=["children"],P="light",k="dark",S="neitral",w=c.a.createContext(),E=function(e){var t=e.children,n=Object(g.a)(e,N),c=Object(a.useState)(null),r=Object(x.a)(c,2),s=r[0],i=r[1];return Object(v.jsx)(w.Provider,Object(_.a)(Object(_.a)({value:{theme:s,change:function(e){i(e),function(e){var t=document.querySelector(":root");["header","bgimage"].forEach((function(n){t.style.setProperty("--theme-default-".concat(n),"var(--theme-".concat(e,"-").concat(n,")"))}))}(e)}}},n),{},{children:t}))},I=function(){return Object(a.useContext)(w)},y=n(5),C=n(4),F=n(8),R=n.n(F),U=n(15),A=n(6),H=function(e){var t=e.lastIndexOf(A.g),n=e.slice(t+A.g.length,e.length);return Number(n)},M=function(e,t){var n=function(e){return-1!==e.indexOf(A.f)?A.f:A.e}(e);return e.replace(n+A.i+t,"").replace(/\//g,"")},L=function(e){return M(e,A.h)},B=function(e){return"".concat(A.j,"/").concat(e+A.d)},D=n(16),J=n(28),T=n.n(J),V=function(e){var t=e.people;return Object(v.jsx)("ul",{className:T.a.list__container,children:t.map((function(e){var t=e.name,n=e.id,a=e.img;return Object(v.jsx)("li",{className:T.a.list__item,children:Object(v.jsxs)(y.b,{to:"/people/".concat(n),children:[Object(v.jsx)("img",{className:T.a.person__photo,src:a,alt:t}),Object(v.jsx)("p",{children:t})]})},n)}))})},G=n(12),Q=n.n(G),q=(n(36),n(38)),W=n.n(q),X=function(e){var t=e.text,n=e.onClick,a=e.disabled,c=e.theme,r=void 0===c?"dark":c,s=e.classes;return Object(v.jsx)("button",{onClick:n,disabled:a,className:Q()(W.a.button,W.a[r],s),children:t})},Y=n(29),Z=n.n(Y),z=function(e){var t=e.getResource,n=e.prevPage,a=e.nextPage,c=e.counterPage;return Object(v.jsxs)("div",{className:Z.a.container,children:[Object(v.jsx)(y.b,{to:"/people/?page=".concat(c-1),className:Z.a.buttons,children:Object(v.jsx)(X,{onClick:function(){return t(n)},disabled:!n,text:"Previous"})}),Object(v.jsx)(y.b,{to:"/people/?page=".concat(c+1),className:Z.a.buttons,children:Object(v.jsx)(X,{onClick:function(){return t(a)},disabled:!a,text:"Next"})})]})},K=n(47),$=n.n(K),ee=function(e){var t=e.src,n=e.classes,c=e.playbackRate,r=void 0===c?1:c,s=Object(a.useRef)();return Object(a.useEffect)((function(){s.current.playbackRate=r}),[]),Object(v.jsx)("video",{loop:!0,autoPlay:!0,muted:!0,ref:s,className:Q()($.a.video,n),children:Object(v.jsx)("source",{src:t})})},te=n.p+"static/media/han-solo.db435084.mp4",ne=n(39),ae=n.n(ne),ce=function(){return Object(v.jsxs)("div",{children:[Object(v.jsxs)("p",{className:ae.a.text,children:["The dark side of the force has won.",Object(v.jsx)("br",{}),"We cannot display data.",Object(v.jsx)("br",{}),"Come back when we fix everything."]}),Object(v.jsx)(ee,{playbackRate:1,src:te,classes:ae.a.video})]})},re=function(e){return function(t){var n=Object(a.useState)(!1),c=Object(x.a)(n,2),r=c[0],s=c[1];return Object(v.jsx)(v.Fragment,{children:r?Object(v.jsx)(ce,{}):Object(v.jsx)(e,Object(_.a)({setErrorApi:s},t))})}},se=re((function(e){var t=e.setErrorApi,n=Object(a.useState)(null),c=Object(x.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)(null),o=Object(x.a)(i,2),l=o[0],u=o[1],_=Object(a.useState)(null),j=Object(x.a)(_,2),d=j[0],p=j[1],b=Object(a.useState)(1),f=Object(x.a)(b,2),m=f[0],h=f[1],O=new URLSearchParams(Object(C.g)().search).get("page"),g=function(){var e=Object(U.a)(R.a.mark((function e(n){var a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.b)(n);case 2:(a=e.sent)?(c=a.results.map((function(e){var t=e.name,n=e.url,a=L(n);return{name:t,id:a,img:B(a)}})),s(c),u(Object(D.a)(a.previous)),p(Object(D.a)(a.next)),h(H(n)),t(!1)):t(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){g(A.a+O)}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(z,{getResource:g,prevPage:l,nextPage:d,counterPage:m}),r&&Object(v.jsx)(V,{people:r})]})})),ie=n.p+"static/media/light-side.eebc5217.jpg",oe=n.p+"static/media/dark-side.e0f8cab7.jpg",le=n.p+"static/media/falcon.c1d0a8d1.jpg",ue=n(17),_e=n.n(ue),je=function(e){var t=e.theme,n=e.text,a=e.img,c=e.classes,r=I();return Object(v.jsxs)("div",{className:Q()(_e.a.item,_e.a[c]),onClick:function(){return r.change(t)},children:[Object(v.jsx)("div",{className:_e.a.item__header,children:n}),Object(v.jsx)("img",{className:_e.a.item__img,src:a,alt:n})]})},de=function(){return Object(v.jsxs)("div",{className:_e.a.container,children:[Object(v.jsx)(je,{img:ie,theme:P,text:"Light Side",classes:"item__light"}),Object(v.jsx)(je,{img:oe,theme:k,text:"Dark Side",classes:"item__dark"}),Object(v.jsx)(je,{img:le,theme:S,text:"I'm Han Solo",classes:"item__neitral"})]})},pe=(n(63),function(){return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h1",{className:"header__text",children:"HOME PAGE"}),Object(v.jsx)(de,{})]})}),be=n.p+"static/media/not-found.1062f5e4.png",fe=n(40),me=n.n(fe),he=function(){var e=Object(C.g)();return Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("img",{className:me.a.img,src:be,alt:"Page not found"}),Object(v.jsxs)("p",{className:me.a.text,children:["No match for ",Object(v.jsx)("u",{children:e.pathname})]})]})},Oe=n(22),xe=n.n(Oe),ge=function(e){var t=e.personInfo;return Object(v.jsx)("div",{className:xe.a.wrapper,children:Object(v.jsx)("ul",{className:xe.a.list__container,children:t.map((function(e){var t=e.title,n=e.data;return n&&Object(v.jsxs)("li",{className:xe.a.list__item,children:[Object(v.jsx)("span",{className:xe.a.item__title,children:t}),": ",n]},t)}))})})},ve=n(26),Ne=n.p+"static/media/favorite.3de4425f.svg",Pe=n.p+"static/media/favorite-fill.1fc93f16.svg",ke=n(30),Se=n.n(ke),we=function(e){var t=e.personPhoto,n=e.personName,a=e.personId,c=e.personFavorite,r=e.setPersonFavorite,s=Object(i.b)();return Object(v.jsx)(v.Fragment,{children:Object(v.jsxs)("div",{className:Se.a.container,children:[Object(v.jsx)("img",{className:Se.a.photo,src:t,alt:n}),Object(v.jsx)("img",{src:c?Pe:Ne,onClick:function(){var e;c?(s(function(e){return{type:p,payload:e}}(a)),r(!1)):(s((e=Object(ve.a)({},a,{name:n,img:t}),{type:d,payload:e})),r(!0))},className:Se.a.favorite,alt:"personFavorite"})]})})},Ee=n.p+"static/media/back.d2aea9fb.svg",Ie=n(41),ye=n.n(Ie),Ce=function(){var e=Object(C.f)();return Object(v.jsxs)("a",{href:"#",onClick:function(t){t.preventDefault(),e.goBack()},className:ye.a.link,children:[Object(v.jsx)("img",{className:ye.a.link__img,src:Ee,alt:"Go back"}),Object(v.jsx)("span",{children:"Go back"})]})},Fe=n.p+"static/media/loader-black.e756136f.svg",Re=n.p+"static/media/loader-white.46119a2c.svg",Ue=n.p+"static/media/loader-blue.b04bc3e2.svg",Ae=n(42),He=n.n(Ae),Me=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=e.theme,n=void 0===t?"white":t,c=e.isShadow,r=e.classes,s=Object(a.useState)(null),i=Object(x.a)(s,2),o=i[0],l=i[1];return Object(a.useEffect)((function(){switch(n){case"black":return l(Fe);case"white":return l(Re);case"blue":return l(Ue);default:l(Re)}}),[]),Object(v.jsx)("img",{className:Q()(He.a.loader,c&&He.a.shadow,r),src:o,alt:"Loader"})},Le=n(31),Be=n.n(Le),De=c.a.lazy((function(){return n.e(3).then(n.bind(null,67))})),Je=re((function(e){var t=e.match,n=e.setErrorApi,c=Object(a.useState)(null),r=Object(x.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(null),u=Object(x.a)(l,2),_=u[0],j=u[1],d=Object(a.useState)(null),p=Object(x.a)(d,2),b=p[0],f=p[1],m=Object(a.useState)(null),h=Object(x.a)(m,2),O=h[0],g=h[1],N=Object(a.useState)(null),P=Object(x.a)(N,2),k=P[0],S=P[1],w=Object(a.useState)(null),E=Object(x.a)(w,2),I=E[0],y=E[1],C=Object(i.c)((function(e){return e.favoriteReducer}));return Object(a.useEffect)((function(){Object(U.a)(R.a.mark((function e(){var a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.params.id,e.next=3,Object(D.b)("".concat(A.b,"/").concat(a,"/"));case 3:c=e.sent,C[a]?y(!0):y(!1),o(a),c?(j([{title:"Height",data:c.height},{title:"Mass",data:c.mass},{title:"Hair color",data:c.hair_color},{title:"Skin color",data:c.skin_color},{title:"Eye color",data:c.eye_color},{title:"Birth year",data:c.birth_year},{title:"Gender",data:c.gender}]),f(c.name),g(B(a)),c.films.length&&S(c.films),n(!1)):n(!0);case 7:case"end":return e.stop()}}),e)})))()}),[]),Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)(Ce,{}),Object(v.jsxs)("div",{className:Be.a.wrapper,children:[Object(v.jsx)("span",{className:Be.a.person__name,children:b}),Object(v.jsxs)("div",{className:Be.a.container,children:[Object(v.jsx)(we,{personPhoto:O,personName:b,personId:s,personFavorite:I,setPersonFavorite:y}),_&&Object(v.jsx)(ge,{personInfo:_}),k&&Object(v.jsx)(a.Suspense,{fallback:Object(v.jsx)(Me,{theme:"white"}),children:Object(v.jsx)(De,{personFilms:k})})]})]})]})})),Te=n(48),Ve=n.n(Te),Ge=function(){var e=Object(a.useState)([]),t=Object(x.a)(e,2),n=t[0],c=t[1],r=Object(i.c)((function(e){return e.favoriteReducer}));return Object(a.useEffect)((function(){var e=Object.entries(r);if(e.length){var t=e.map((function(e){return Object(_.a)({id:e[0]},e[1])}));c(t)}}),[]),Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{className:"header__text",children:"FavoritesPage"}),n.length?Object(v.jsx)(V,{people:n}):Object(v.jsx)("h2",{className:Ve.a.comment,children:"No data"})]})},Qe=n.p+"static/media/cansel.dd9710fe.svg",qe=n(23),We=n.n(qe),Xe=function(e){var t=e.value,n=e.handleInputChange,a=e.placeholder,c=e.classes;return Object(v.jsxs)("div",{className:Q()(We.a.wrapper__input,c),children:[Object(v.jsx)("input",{type:"text",value:t,onChange:function(e){return n(e.target.value)},placeholder:a,className:We.a.input}),Object(v.jsx)("img",{onClick:function(){return t&&n("")},className:Q()(We.a.clear,!t&&We.a.clear__disabled),src:Qe,alt:"clear"})]})},Ye=n(20),Ze=n.n(Ye),ze=function(e){var t=e.people;return Object(v.jsx)(v.Fragment,{children:t.length?Object(v.jsx)("ul",{className:Ze.a.list__container,children:t.map((function(e){var t=e.id,n=e.name,a=e.img;return Object(v.jsx)("li",{className:Ze.a.list__item,children:Object(v.jsxs)(y.b,{to:"/people/".concat(t),children:[Object(v.jsx)("img",{className:Ze.a.person__photo,src:a,alt:n}),Object(v.jsx)("p",{className:Ze.a.person__name,children:n})]})},t)}))}):Object(v.jsx)("h2",{className:Ze.a.person__comment,children:"No results"})})},Ke=n(49),$e=n.n(Ke),et=re((function(e){var t=e.setErrorApi,n=Object(a.useState)(""),c=Object(x.a)(n,2),r=c[0],s=c[1],i=Object(a.useState)([]),o=Object(x.a)(i,2),l=o[0],u=o[1],_=function(){var e=Object(U.a)(R.a.mark((function e(n){var a,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(D.b)(A.c+n);case 2:(a=e.sent)?(c=a.results.map((function(e){var t=e.name,n=e.url,a=L(n);return{id:a,name:t,img:B(a)}})),u(c),t(!1)):t(!0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){_("")}),[]);var d=Object(a.useCallback)(Object(j.debounce)((function(e){return _(e)}),300),[]);return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{className:"header__text",children:"Search"}),Object(v.jsx)(Xe,{value:r,handleInputChange:function(e){s(e),d(e)},placeholder:"Input characters name",classes:$e.a.input__search}),Object(v.jsx)(ze,{people:l})]})})),tt=[{path:"/",exact:!0,component:pe},{path:"/people",exact:!0,component:se},{path:"/favorites",exact:!0,component:Ge},{path:"/people/:id",exact:!0,component:Je},{path:"/search",exact:!0,component:et},{path:"/fail",exact:!0,component:ce},{path:"/not-found",exact:!0,component:he},{path:"*",exact:!1,component:he}],nt=n.p+"static/media/bookmark.42655521.svg",at=n(32),ct=n.n(at),rt=function(){var e=Object(a.useState)(),t=Object(x.a)(e,2),n=t[0],c=t[1],r=Object(i.c)((function(e){return e.favoriteReducer}));return Object(a.useEffect)((function(){var e=Object.keys(r).length;e.toString().length>2?c("..."):c(e)})),Object(v.jsx)("div",{className:ct.a.container,children:Object(v.jsxs)(y.b,{to:"/favorites",children:[Object(v.jsx)("span",{className:ct.a.counter,children:n}),Object(v.jsx)("img",{className:ct.a.icon,src:nt,alt:"favorites"})]})})},st=n.p+"static/media/droid.de165dd8.svg",it=n.p+"static/media/lightsaber.eb7d4cd6.svg",ot=n.p+"static/media/space-station.7a027c6e.svg",lt=n(33),ut=n.n(lt),_t=function(){var e=I(),t=Object(a.useState)(st),n=Object(x.a)(t,2),c=n[0],r=n[1];return Object(a.useEffect)((function(){switch(e.theme){case P:return r(it);case k:return r(ot);case S:return r(st);default:r(st)}}),[e]),Object(v.jsxs)("div",{className:ut.a.container,children:[Object(v.jsx)("img",{className:ut.a.logo,src:c,alt:"icon"}),Object(v.jsxs)("ul",{className:ut.a.list__container,children:[Object(v.jsx)("li",{children:Object(v.jsx)(y.c,{exact:!0,to:"/",children:" HOME "})}),Object(v.jsx)("li",{children:Object(v.jsx)(y.c,{to:"/people/?page=1",children:" PEOPLE "})}),Object(v.jsx)("li",{children:Object(v.jsx)(y.c,{exact:!0,to:"/search",children:" SEARCH "})}),Object(v.jsx)("li",{children:Object(v.jsx)(y.c,{exact:!0,to:"/not-found",children:" NOT_FOUND "})}),Object(v.jsx)("li",{children:Object(v.jsx)(y.c,{exact:!0,to:"/fail",children:" FAIL "})})]}),Object(v.jsx)(rt,{})]})},jt=n(50),dt=n.n(jt),pt=function(){return Object(v.jsx)(v.Fragment,{children:Object(v.jsx)(y.a,{children:Object(v.jsxs)("div",{className:dt.a.wrapper,children:[Object(v.jsx)(_t,{}),Object(v.jsx)(C.c,{children:tt.map((function(e,t){return Object(v.jsx)(C.a,{exact:e.exact,path:e.path,component:e.component},t)}))})]})})})};n(64);s.a.render(Object(v.jsx)(i.a,{store:O,children:Object(v.jsx)(E,{children:Object(v.jsx)(pt,{})})}),document.getElementById("root"))}],[[65,1,2]]]);
//# sourceMappingURL=main.c61f5359.chunk.js.map